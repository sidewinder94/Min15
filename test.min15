class Object

  fun print(o: Object) do
    o.toString().toSystemOut()
  end
end

class Boolean
end

class String
  intern fun +(o: String): String

  fun toString(): String do
    return self
  end

  fun concat(o: String) : String do
    return self + o
  end

  intern fun toSystemOut()
end


class Integer
  intern fun toString(): String
  intern fun <(i: Integer): Boolean
  intern fun >(i: Integer): Boolean
  intern fun +(i: Integer): Integer
  intern fun -(i: Integer): Integer
  intern fun *(i: Integer): Integer
  intern fun =(i: Integer): Boolean


  fun factor() : Integer do
    var i = self
    var result = 1
    while i > 1 do
      result = result * i
      i = i - 1
    end
  end
end

class Coords
  var _x : Integer
  var _y : Integer

  fun x(): Integer do
    return _x
  end

  fun y(): Integer do
    return _y
  end

  fun equals(obj: Coords) do
    return (_x = obj.x()) and (_y = obj.y())
  end
end

# ecrire: Hello World
print("Hello ".concat("1")) #Plante, la vérification de types détecte que 1 n'est pas une chaine de caractères


# ecrire: 1
var i = 1

#Test de l'efficacité des scopes. i est le meme à l'intérieur et a l'extérieur du while, a n'est accessible que dans le while
#De plus, la définition de a dans la boucle ne soulève pas d'erreur !
while i < 5 do
    var a = i
    print(a)
    i = i + 1
end

print(i)

print(i.factor())

print(1)
